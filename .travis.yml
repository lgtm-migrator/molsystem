language: python
dist: xenial
python:
- 3.7
- 3.6
- 3.5
deploy:
  provider: pypi
  distributions: sdist bdist_wheel
  on:
    python: 3.6
    repo: molssi-seamm/molsystem
    tags: true
  user: seamm
  password:
    secure: gDCZf0a8kTt3sJlJNEPJ+DCmaAfiLsQporEadU8H1gNE3PZy96anT2xgxspf6vGrlLB+LkbMatAWBbO2kKCMSpVJ6jJadXwUKy8+S03Ny02q4knDllBTpUjVLDnM/c2tq6ll0uaR2fiOTIzxi5dC7yXrIpJ3BmqM655OvkUz+5rjzV1ALwx+GdfXO3x+mYbDnS094rAkRqBe1wHoiPXtnQnc6czx0cRyUcCmbRolOyOJGOkLNyS5ZRm1CB4syhfuQv/hz87rj0s+/yuYt7LUeeAbFNBi+XGD2bqU4SLtgFbl02lbOnJRuzoNprEPbf3yBX8Xdb+UtzVy2j+XMvc5HAmy83m1/vwy3nlLtT0gedRRacnXL4ZmJ1mUkMG41PwFTL5afiDwKCqzvl7HmTaDer72a4+91UDsCajX3rFUnu7JpKiYvfOFM8kJmTG71rEXmC3ookN4JjRCTVqQK6xMvAOeVSSJ3MIp7lpQvrBigMHzNvfp4iR8DJ89J4qqDBd649mxnltWcKL37qh6L+VgnAE5IiE/ML9sg0gkZQZyl4/L4noqJAeZ0tqaai5vOQ60uz4JPbBxtb7PKH6BCfMkkLFot6IZ85ycrKJPZV9q26TBX5AgkIzoP0Y5YF9JfiEuQXW4X73IfCeY0/lT+y9+BQuK3hQ1giH/hrjxMzWZZ3k=
matrix:
  fast_finish: true
stages:
- lint
- check
- test
install:
- pip install -U tox-travis
- pip install -U codecov
jobs:
  include:
  - stage: lint
    script: tox -e lint
    python: '3.6'
script: tox -e coverage
after_success:
- codecov -e TOX_ENV
